<!-- <div class="modal-header">
    <h5 class="modal-title text-white" *ngIf="status !== 'in-process'">Bid</h5>
    <h5 class="modal-title text-white" *ngIf="status === 'in-process'">In-Process Request</h5>
    <button type="button" class="btn-close btn-close-white" aria-label="Close" (click)="closeDialog()"></button>
  </div>

  <div class="modal-body">
      <div class="card">
        <div class="card-body">
          <form [formGroup]="newPurchaseRequestForm" (ngSubmit)="submitForm()">
            <div class="row">
              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                <div class="form-group mb-2">
                  <label>RFQ No.</label>
                  <input type="text" placeholder="rfq-313901113" disabled class="form-control" />
                </div>
              </div>
              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                <div class="form-group mb-2">
                  <label>PR No.</label>
                  <input type="text" placeholder="PR-01999" disabled class="form-control" />
                </div>
              </div>
              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                <div class="form-group mb-2">
                  <label>Status</label>
                  <input type="text" placeholder="New" disabled class="form-control" />
                </div>
              </div>

              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                <div class="form-group mb-2">
                  <label>Owner</label>
                  <input type="text" placeholder="Carlos" disabled class="form-control" />
                </div>
              </div>
              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                <div class="form-group mb-2">
                  <label>Date</label>
                  <input type="date" placeholder="04/05/2025" disabled class="form-control" />
                </div>
              </div>
              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                <div class="form-group mb-2">
                  <label>Contact</label>
                  <input type="number" placeholder="+966 118 365 999" disabled class="form-control" />
                </div>
              </div>
              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                <div class="form-group mb-2">
                  <label>Delivery Location</label>
                  <input type="text" placeholder="Riyadh" disabled class="form-control" />
                </div>
              </div>
              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                <div class="form-group mb-2">
                  <label>Start Date</label>
                  <input type="date" placeholder="04/05/2025" disabled class="form-control" />
                </div>
              </div>
              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                <div class="form-group mb-2">
                  <label>End Date</label>
                  <input type="date" placeholder="04/05/2025" disabled class="form-control" />
                </div>
              </div>
              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-group mb-2">
                  <label>Title</label>
                  <input type="text" placeholder="250 Thermal Printers for Retail Stores" disabled class="form-control" />
                </div>
              </div>
              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" *ngIf="status === 'in-process'">
                <div class="form-group mb-2">
                  <label>Comments/Remarks</label>
         <textarea name="" id="" placeholder="Enter your Remarks" class="form-control"  rows="5"></textarea>
                </div>
              </div>

              <div class="col-12">
                <hr>
              </div>
            </div>
            <br>
          </form>

<div class="col-12 mb-4" *ngIf="status === 'in-process'">
  <app-chat></app-chat>
</div>
        
          <div class="col-12">
            <div style="position: relative;">
              <ngx-datatable class="bootstrap core-bootstrap" [rows]="newPurchaseRequestData" [columnMode]="'force'"
                [headerHeight]="50" [footerHeight]="50" rowHeight="50" [limit]="5" [scrollbarH]="true">
                <ngx-datatable-column name="Sr. No." [width]="50">
                  <ng-template let-rowIndex="rowIndex" let-value="value" ngx-datatable-cell-template>
                    <span>{{rowIndex + 1}}</span>
                  </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Type" prop="type" [width]="70">
                </ngx-datatable-column>
                <ngx-datatable-column name="Item Code" prop="itemCode" [width]="150">
                </ngx-datatable-column>
                <ngx-datatable-column name="Description" [width]="150" prop="description">
                </ngx-datatable-column>
                <ngx-datatable-column name="Amount" [width]="150">
                    <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                      <input type="number" class="form-control" [(ngModel)]="row.amount" placeholder="Enter amount" />
                    </ng-template>
                  </ngx-datatable-column>
                  <ngx-datatable-column name="Comment" [width]="200">
                    <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                      <input type="text" class="form-control" [(ngModel)]="row.comment" placeholder="Enter comment" />
                    </ng-template>
                  </ngx-datatable-column>
                  <ngx-datatable-column name="Attachment" [width]="100">
                    <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                      <button type="button" class="btn btn-sm btn-light" (click)="attachFile(rowIndex)">
                        <i class="ft-paperclip"></i>
                      </button>
                    </ng-template>
                  </ngx-datatable-column>
              </ngx-datatable>
            </div>

          </div>
        </div>
      </div>
  </div>
  
  <div class="modal-footer" >
    <button class="btn btn-primary" (click)="submitForm()">Submit</button>
  </div> -->

<div class="modal-header">
  <h5 class="modal-title text-white" *ngIf="status !== 'in-process'">Bid</h5>
  <h5 class="modal-title text-white" *ngIf="status === 'in-process'">In-Process Request</h5>
  <button type="button" class="btn-close btn-close-white" aria-label="Close" (click)="closeDialog()"></button>
</div>

<div class="modal-body">
  <div class="card">
    <div class="card-body">
      <form [formGroup]="newRfqForm" (ngSubmit)="submitForm()">
        <div class="row">
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
            <div class="form-group mb-2">
              <label>RFQ No.</label>
              <input type="text" [value]="data?.rfqNo" disabled class="form-control" />
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
            <div class="form-group mb-2">
              <label>PR No.</label>
              <!-- Assuming PR No. maps to requisitionNo or other property; adjust if needed -->
              <input type="text" [value]="data?.purchaseRequestNo" disabled class="form-control" />
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
            <div class="form-group mb-2">
              <label>Status</label>
              <input type="text" [value]="data?.status" disabled class="form-control" />
            </div>
          </div>

          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
            <div class="form-group mb-2">
              <label>Owner</label>
              <input type="text" [value]="data?.owner" disabled class="form-control" />
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
            <div class="form-group mb-2">
              <label>Date</label>
              <input type="date" [value]="(data?.date | date:'yyyy-MM-dd')" disabled class="form-control" />
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
            <div class="form-group mb-2">
              <label>Contact</label>
              <!-- If contact info is available in data, bind here -->
              <input type="text" [value]="data?.contact" disabled class="form-control" />
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
            <div class="form-group mb-2">
              <label>Delivery Location</label>
              <input type="text" [value]="data?.deliveryLocation" disabled class="form-control" />
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
            <div class="form-group mb-2">
              <label>Start Date</label>
              <input type="date" [value]="(data?.startDate | date:'yyyy-MM-dd')" disabled class="form-control" />
            </div>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
            <div class="form-group mb-2">
              <label>End Date</label>
              <input type="date" [value]="(data?.endDate | date:'yyyy-MM-dd')" disabled class="form-control" />
            </div>
          </div>
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="form-group mb-2">
              <label>Title</label>
              <input type="text" [value]="data?.title" disabled class="form-control" />
            </div>
          </div>

          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" *ngIf="status === 'in-process'">
            <div class="form-group mb-2">
              <label>Comments/Remarks</label>
              <textarea placeholder="Enter your Remarks" class="form-control" rows="5"></textarea>
            </div>
          </div>

          <div class="col-12">
            <hr />
          </div>
        </div>
        <br />
      </form>

      <div class="col-12 mb-4" *ngIf="status === 'in-process'">
        <app-chat></app-chat>
      </div>

      <div class="col-12">
        <div style="position: relative;">
          <ngx-datatable class="bootstrap core-bootstrap" [rows]="newRfqData" [columnMode]="'force'" [headerHeight]="50"
            [footerHeight]="50" rowHeight="50" [limit]="5" [scrollbarH]="true">
            <ngx-datatable-column name="Sr. No." [width]="50">
              <ng-template let-rowIndex="rowIndex" ngx-datatable-cell-template>
                <span>{{ rowIndex + 1 }}</span>
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Type" prop="itemType" [width]="70"></ngx-datatable-column>
            <ngx-datatable-column name="Item Code" prop="itemCode" [width]="150"></ngx-datatable-column>
            <ngx-datatable-column name="Description" prop="description" [width]="150"></ngx-datatable-column>
            <ngx-datatable-column name="Amount" [width]="150">
              <ng-template let-row="row" ngx-datatable-cell-template>
                <input type="number" class="form-control" [(ngModel)]="row.amount" placeholder="Enter amount" />
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Comment" [width]="200">
              <ng-template let-row="row" ngx-datatable-cell-template>
                <input type="text" class="form-control" [(ngModel)]="row.comment" placeholder="Enter comment" />
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Attachment" [width]="100">
              <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                <button type="button" class="btn btn-sm btn-light" (click)="openAttachmentModal(rowIndex)">
                  <i class="ft-paperclip"></i>
                </button>
              </ng-template>
            </ngx-datatable-column>
          </ngx-datatable>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal-footer">
  <button class="btn btn-primary" (click)="submitForm()">Submit</button>
</div>