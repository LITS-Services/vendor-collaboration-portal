<!-- Header Starts -->
<div class="row mt-3">
  <div class="col-6">
    <h1>Company Profile</h1>
    <p>Welcome Back!</p>
  </div>
  <div class="col-6 d-flex align-items-center justify-content-end">

      <button class="btn btn-outline-primary me-3">Cancel</button>
      <button class="btn btn-primary">Save</button>
   
  </div>
</div>
<!-- Header End -->

<!-- Profile Start -->
<section class="page-user-profile">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="user-profile-images">
          <!-- user timeline image -->
          <img src="assets/img/banner/profile-image.jpg" class="img-fluid rounded-top user-timeline-image" alt="User Timeline Image">
          <!-- user profile image -->
          <img src="assets/img/portrait/small/avatar-s-20.png" class="user-profile-image rounded" alt="User Profile Image" height="140" width="140">
        </div>
        <!-- <div class="user-profile-text">
          <h4 class="profile-text-color mb-0"><a href="https://www.lits.services/">LITS Services Ltd</a></h4>
          <small>Vendor</small>
        </div> -->
        <!-- user profile body start -->
        <div class="card-content">
          <div class="card-body">
            <div class="user-profile-buttons d-flex justify-content-center justify-content-sm-start align-items-end">
              <h4 class="profile-text-color mb-0 me-2"><a href="https://www.lits.services/">LITS Services Ltd</a></h4>
              <small> Vendor</small>
            </div>
          </div>
          <!-- user profile body ends -->
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Profile End -->

    <!-- Inputs start -->
    <section id="basic-input">
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-content">
              <div class="card-body">
                <div class="row">
                  <div class="col-12 d-flex align-items-center justify-content-end mb-2">
                    <button class="btn btn-outline-primary me-3">Contact</button>
                      <button class="btn btn-outline-primary me-3">Checklist</button>
                      <button class="btn btn-primary" (click)="openAttachmentModal()">Attachment </button>
                  </div>
                  <div class="col-12">
                    <ngb-accordion [closeOthers]="true" [activeIds]="'static-1'">
                      <ngb-panel id="static-1" title="About Company">
                        <ng-template ngbPanelContent>
                         <textarea name="about" id="about" cols="30" rows="10" class="form-control" placeholder="Enter Company Description"></textarea>
                        </ng-template>
                      </ngb-panel>
                      <ngb-panel id="static-2" title="General Information">
                        <ng-template ngbPanelContent>
                      <!-- Identification -->
                      <div class="row">
                        <div class="col-12">
                          <h6>Identification</h6>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Vendor account</label>
                            <input type="text" class="form-control" id="basicInput" [value]="vendorAccountNumber" disbaled>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Type</label>
                            <select class="form-select" id="basicInput">
                              <option>Organization</option>
                              <option>Person</option>
                            </select>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Payment priority</label>
                            <input type="text" class="form-control" id="basicInput"  placeholder="Enter payment priority">
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Name</label>
                            <input type="text" class="form-control" id="basicInput"  placeholder="Enter company name">
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Search name</label>
                            <input type="text" class="form-control" id="basicInput"  placeholder="Enter search name">
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Group</label>
                            <select class="form-select" id="basicInput">
                              <option>Select Group</option>
                              <option>Group 1</option>
                              <option>Group 2</option>
                              <option>Group 3</option>
                            </select>
                            <!-- <input type="text" class="form-control" id="basicInput"  placeholder="Enter known as"> -->
                          </div>
                        </div>
                      </div>


                                <div class="row">
                                  <div class="col-12">
                                    <hr>
                                  </div>
                                </div>

<!-- Organization Details -->
                      <div class="row">
                        <div class="col-12">
                          <h6>Organization Details</h6>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Number of employees</label>
                            <input type="number" class="form-control" id="basicInput" placeholder="Enter number of employees">
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Organization number</label>
                            <input type="number" class="form-control" id="basicInput" placeholder="Enter organization number">
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">ABC code</label>
                            <!-- <input type="number" class="form-control" id="basicInput" placeholder="Enter organization number"> -->
                             <select class="form-select" id="basicInput"></select>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">DUNS number</label>
                            <!-- <input type="number" class="form-control" id="basicInput" placeholder="Enter organization number"> -->
                             <select class="form-select" id="basicInput"></select>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Company registration number</label>
                            <input type="number" class="form-control" id="basicInput" placeholder="Enter company registration number">
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Tax registration number</label>
                            <input type="number" class="form-control" id="basicInput" placeholder="Enter tax registration number">
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <hr>
                        </div>
                      </div>

                      <!-- Other Information -->
                      <div class="row">
                        <div class="col-12">
                          <h6>Other Information</h6>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Address books</label>
                            <!-- <input type="number" class="form-control" id="basicInput" placeholder="Enter number of employees"> -->
                             <select class="form-select" id="basicInput"></select>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Known as</label>
                            <input type="text" class="form-control" id="basicInput" placeholder="Enter known as">
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Phonetic name</label>
                            <input type="text" class="form-control" id="basicInput" placeholder="Enter phonetic name">
                             
                          </div>
                        </div>
                      </div>

                      <!-- <div class="row">
                        <div class="col-12">
                          <hr>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-12">
                          <h6>Vendor Collaboration</h6>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Collaboration activation</label>
                            
                             <select class="form-select" id="basicInput">
                                <option value="">Choose one</option>
                                <option value="Yes">Active</option>
                                <option value="No">Not Active</option>  
                             </select>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Known as</label>
                            <input type="text" class="form-control" id="basicInput" placeholder="Enter known as">
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="form-group">
                            <label for="basicInput">Phonetic name</label>
                            <input type="text" class="form-control" id="basicInput" placeholder="Enter phonetic name">
                             
                          </div>
                        </div>
                      </div> -->
                          
                        </ng-template>
                      </ngb-panel>
                      <ngb-panel id="static-3" title="Addresses">
                        <ng-template ngbPanelContent>
                          <div class="address-table-container">
                            <button class="btn btn-primary mb-3" (click)="openAddressModal()">Add Address</button>
                            
                            <!-- Address DataTable -->
                             <div class="table-responsive">
                              <table class="table table-striped table-bordered">
                                <thead>
                                  <tr>
                                    <th>Street</th>
                                    <th>City</th>
                                    <th>State</th>
                                    <th>Zip Code</th>
                                    <th>Country</th>
                                    <th>Primary</th>
                                    <th>Actions</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let address of addressList; let i = index">
                                    <td class="align-middle">{{ address.street }}</td>
                                    <td class="align-middle">{{ address.city }}</td>
                                    <td class="align-middle">{{ address.state }}</td>
                                    <td class="align-middle">{{ address.zip }}</td>
                                    <td class="align-middle">{{ address.country }}</td>
                                    <td class="align-middle">{{ address.primary ? 'Yes' : 'No' }}</td>
                                    <td class="align-middle">
                                      <button class="ft-edit btn" type="button" (click)="editAddress(i)"></button>
                                      <button class="ft-trash btn" (click)="confirmAddressDeletion(i)"></button>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                             </div>
                        
                          </div>
                        </ng-template>
                      </ngb-panel>
                      
                      <ngb-panel id="static-4" title="Company Contact Details">
                        <ng-template ngbPanelContent>
                          <button class="btn btn-primary mb-3" (click)="openContactModal()">Add Contact</button>

      <!-- Contact DataTable -->
       <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>Description</th>
              <th>Type</th>
              <th>Contact Number</th>
              <th>Extension</th>
              <th>Primary</th>
              <th>Actions</th> <!-- New column for remove action -->
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let contact of contactList; let i = index">
              <td class="align-middle">{{ contact.description }}</td>
              <td class="align-middle">{{ contact.type }}</td>
              <td class="align-middle">{{ contact.contactNumber }}</td>
              <td class="align-middle">{{ contact.extension }}</td>
              <td class="align-middle">{{ contact.primary ? 'Yes' : 'No' }}</td>
              <td>
                <button class="ft-edit btn" type="button" (click)="editContact(i)"></button>
                <button class="ft-trash btn" type="button" (click)="confirmContactDeletion(i)"></button>
              </td>
            </tr>
          </tbody>
        </table>
       </div>
 
                        </ng-template>
                      </ngb-panel>
                      <ngb-panel id="static-5" title="Purchasing Demographics">
                        <ng-template ngbPanelContent>
                         <div class="row">
                          <div class="col-md-3 mt-1">
                            <div class="form-group">
                              <label for="basicInput">Primary currency</label>
                              <!-- <input type="number" class="form-control" id="basicInput" disbaled> -->
                              <select class="form-select" id="basicInput">
                                <option>Select primary currency</option>
                                <option>USD</option>
                                <option>GBP</option>
                                <option>AED</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-3 mt-1">
                            <div class="form-group">
                              <!-- Primary contact is populated from contact list being populated at the top of the form -->
                              <label for="basicInput">Primary contact</label>
                              <select class="form-select" id="basicInput">
                                <option>Select primary contact</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-3 mt-1">
                            <div class="form-group">
                              <!-- Primary contact is populated from contact list being populated at the top of the form -->
                              <label for="basicInput">Vendor type</label>
                              <select class="form-select" id="basicInput">
                                <option>Select vendor type</option>
                                <option>Local</option>
                                <option>Foriegn</option>
                              </select>
                            </div>
                          </div>
                          <div class="col-md-3 mt-1">
                            <div class="form-group">
                              <label for="basicInput">Line of business</label>
                              <input type="text" class="form-control" id="basicInput" placeholder="Enter line of business">
                            </div>
                          </div>
                          <div class="col-md-3 mt-1">
                            <div class="form-group">
                              <label for="basicInput">Birth country</label>
                              <input type="text" class="form-control" id="basicInput" placeholder="Enter birth country">
                            </div>
                          </div>
                          <div class="col-md-3 mt-1">
                            <div class="form-group">
                              <label for="basicInput">Employee responsible</label>
                              <input type="text" class="form-control" id="basicInput" placeholder="Enter employee responsible">
                            </div>
                          </div>
                          <div class="col-md-3  mt-1">
                            <div class="form-group">
                              <label for="basicInput">Segment</label>
                              <input type="text" class="form-control" id="basicInput" placeholder="Enter segment">
                            </div>
                          </div>
                          <div class="col-md-3 mt-1">
                            <div class="form-group">
                              <label for="basicInput">Speciality</label>
                              <input type="text" class="form-control" id="basicInput" placeholder="Enter speciality">
                            </div>
                          </div>
                          <div class="col-md-3 mt-1">
                            <div class="form-group">
                              <label for="basicInput">Chain</label>
                              <input type="text" class="form-control" id="basicInput" placeholder="Enter chain">
                            </div>
                          </div>
                          <div class="col-12 mt-1">
                            <div class="form-group">
                              <label for="basicInput">Note</label>
                              <textarea type="text" class="form-control" id="" cols="30" rows="3" placeholder="Enter note"></textarea>
                              
                            </div>
                          </div>
                         </div>
                        </ng-template>
                      </ngb-panel>
                    </ngb-accordion>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!--  Inputs end -->


    <ng-container *ngIf="showAddressDeletePopup">
      <div class="modal" tabindex="-1" role="dialog" style="display: block; background: rgba(0, 0, 0, 0.5);">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Delete Address</h5>
              <button type="button" class="fa fa-times" (click)="closeAddressPopup()"></button>
            </div>
            <div class="modal-body">
              <p>Are you sure you want to delete this Address?</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" (click)="removeAddress(i)">Delete</button>
              <button type="button" class="btn btn-secondary" (click)="closeAddressPopup()">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="showContactDeletePopup">
      <div class="modal" tabindex="-1" role="dialog" style="display: block; background: rgba(0, 0, 0, 0.5);">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Delete Contact</h5>
              <button type="button" class="fa fa-times" (click)="closeContactPopup()"></button>
            </div>
            <div class="modal-body">
              <p>Are you sure you want to delete this contact?</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" (click)="removeContact(i)">Delete</button>
              <button type="button" class="btn btn-secondary" (click)="closeContactPopup()">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </ng-container>